# 新浪微博第三方客户端　Webo 开发手记

2014.09.30

## 目标

已经完成：

* 缓存：将新请求来的微博转化成 List<Status>，　加入原来时间线上的 mWeiboList，　再将新的　mWeiboList 转化成 json 字符串，存储到缓存中。
* listView 效率：如果加载过，就重复利用之前加载的，没加载过，再加载
* 建立单条微博的基本布局
* 通过设置Layout背景色和控件前景色为控件加边框
* 下拉刷新动画效果


未完成：

* 进度条：请求新微博时，进度条如何设计才能减少用户的烦躁？
* 进度条：长按下拉，才请求，并显示进度条
* 微博中的链接需要处理
* 加载缓存太慢，可以只加载一部分，然后就显示？
* 没网络时，不提示无网络，直接不加载就好了。
* 下拉刷新


## 想法

### 单条微博 UI 设计

官方微博，Fuubo, Weelr. Weocp 四个客户端 UI 设计

1. 头像不应该在单独一栏，　Weico, Weekr，网页版本的微博，用户头像都在单独一栏，这对手机来说是不友好的，因为头像下面有大量空白，同样多和条数，
这样更占用空间，手机屏幕本来就小，这样用户要多滑动才能看完所有微博。

2. 单条微博一般分三部分，头部，内容，尾部。需要放的内存有：头像，名字，来源，时间，内容，转发内容，转发量，评论量，赞量。

头部应该只放最主要的内容：头像，名字，时间，时间在最右侧。这一点，官方微博，Fubbo 都做的不太好，把来源也放在头部，用户很少关心来源，放在尾部就好。

内容区分原创内容与转发内容，转发内容一般都会加阴影，这里又有两种形式，转发内容是以并排形式出现，还是以对话气泡的形式出现，如果是气泡，要用阴影还是亮白，
官方，Fubbo用的是并排，Weekr, Weico用的是气泡，其中 Weekr 用的是亮白，Weico用的是阴影。我感觉还是用阴影好，这样凸显原创。

尾部的内容，一般有转发，评论，赞，及其数量。有两种方式，一种是做成大按钮，　如官方，Fubbo，只是 Fubbo 的按钮做的太大了，而且只有两个，看着太稀疏，高度也
比官方的大，感觉不太舒服。另一种是不做成按钮，只是显示，如果要转发，点赞，评论，要点开微博。这两种其实各有各的好处，对于看的多交互少的人来说，不做成按钮好。
对于交互多的人来说，做成按钮好。另外，　不做成按钮还有个坏处，就是会误导，让用户以为是可以点的，一点发现没反应，进入了微博。所以最好还是做成三个按钮好。
做成按钮后，你会发现，微博来源不能放这了，另外，头部的头像要比文字高，所以头部就应该放入微博来源，所以说设计真不是想当然的，各个部分会相互制衡。

### 微博主 UI 设计

主UI中有几个比较重要的问题

1. 首栏

首栏中需要有什么元素？太多显的太乱，太少不方便交互，交互方式是点击还是滑动卡。倾向于滑动卡，因为大屏手机不方便点击最上面的界面元素。

官方的包含：主页，分组，扫码
Fubbo包含：菜单项，首页，@, 评论
Weekr包含：菜单项，分组，动态，评价，主页
Weico包含：菜单项，应用，发微博，更多

菜单项用于打开左栏，这个是需要的，放置不常用功能，另外，右滑也应该设置成可以打开左栏。这一点 Fubbo做的不太好，有左栏，但是右滑打不开，Weekr, Weico都可以打开。
主页不应该放在主界面上，谁没事看自己主页，应该放在左栏中。
首页，动态，写微博，是应该在主界面中就看到的，这是最常用的功能。
分组到底是否应该放入主页面呢？官方，Weekr放了，Weico放在左边栏中, Foobo找不到。感觉一下，还是放在左边栏比较好。
扫码及应用市场对第三方客户端来说是不需要的。]

这样，主界面放入首页，写微博，动态。


2. 底栏

要不要底栏，要的话界面不够简洁，不要的话不方便交互, 倾向于不设置底栏，保持简洁。

3. 左边栏
从上面的分析看出，左边栏放置当前用户基本信息，点击可进入主页，同时放入所有分组，点击分组，主界面更新成分组内容。

4. 设置

设置应该放在哪里呢？

官方放在底栏一个按钮占出的界面里，Fuubo, Weekr放在左边栏中，　Weico 放在首栏右侧按钮下

3. 交互

首栏底栏的设计，核心问题就是保证简洁，又要方便交互，其实就是将用户最常用的操作放在上面，

4. 刷新

不需要设置一个单独的按钮，下拉，点击首页按钮都可以触发。

5. 发微博

这个按钮应该设计在哪里呢，官方的在底栏中间，看着好突兀， Fubbo 的没有底栏

### 功能

* 下拉刷新，下拉刷新时，不用告诉用户加载了多少微博，这对用户来说毫无意义。
* 何时写入缓存，主界面销毁时写入，不用每次请求微博都写入。缓存应该设计的小点。
* 没网络就不要刷新，不要让用户焦虑。
